<!DOCTYPE html>
<html>
  <head>
    <title>Substance</title>
    <link href='styles/fonts/open-sans/open-sans.css' rel='stylesheet' type='text/css'/>
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='styles/font-awesome.css' rel='stylesheet' type='text/css'/>

    <link href="styles/substance.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="styles/ken.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="styles/composer.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="styles/console.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Templates -->
    <script type="text/html" name="substance">

      <!-- Substance Main Menu -->
      <div id="menu">
        <div class="views">
          <a href="#" class="toggle-view document"><i class="icon-edit"></i></a>
        </div>

        <div class="actions">
          <a href="#new" class="action new-document"><i class="icon-plus"></i></a>
          <a href="#tests" class="action testsuite" ><i class="icon-tasks"></i></a>
        </div>
      </div>

      <div id="container">

      </div>

      <!-- Temporary Canvas for image manipulation -->
      <canvas id="canvas" style="display: none;"></canvas>
    </script>

    <!-- Editor -->
    <script type="text/x-ejs-template" name="editor">

      <div class="document-settings shelf">
        <div class="meta">
          <div class="title"><%= "title" %></div>
          <div class="updated-at"><%= "updated_at" %></div>
        </div>

        <div class="label">Creator</div>
        <div class="creator">
          <div class="value"><%= "creator.name" %></div>
        </div>

        <div class="label">Collaborators</div>

        <div class="collaborators">

        </div>

        <!-- Publish Settings -->
        <div class="label">Publications</div>
        <div class="publications">

        </div>
      </div>

      <div id="document_wrapper">
        <div id="composer">
          <div id="tools"></div>
          <div id="document" contenteditable="false">

          </div>
        </div>
      </div>
      <div id="console_wrapper">

      </div>
    </script>

    <!-- Substance.Text Node -->
    <script type="text/x-ejs-template" name="text">
      <div class="content"></div>
    </script>


    <!-- Substance.TestCenter -->
    <script type="text/text/x-handlebars-template" name="test_center">
      <div class="test-suites">
        {{#each test_suites}}
          <a class="test-suite {{name}}{{#if active}} active{{/if}}" sbs-click='showReport({{name}})' href="#tests/{{name}}">
            {{name}}
          </a>
        {{/each}}
      </div>

      <div class="test-report">

      </div>

      <div class="test-output">

      </div>
    </script>

    <!-- Substance.TestReport -->
    <script type="text/text/x-handlebars-template" name="test_report">
      <div class="border-right"></div>
      <h2>Subtance.{{name}}</h2>
      <div class="tests">
        {{#each tests}}
          <div class="test">
            <div class="name">{{name}}</div>
            <div class="actions">
              {{#each actions}}
                <div class="action {{#ifelse error "error" "success"}}{{/ifelse}}">
                  <div class="status">
                    <i class="{{#ifelse error "icon-frown" "icon-smile"}}{{/ifelse}}"></i>
                  </div>
                    {{@index}}. {{label}}
                  <div class="duration">
                     15 ms
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/each}}
      </div>
    </script>

    <!-- Substance.TestAction -->
    <script type="text/text/x-handlebars-template" name="test_action">
      <div class="label">

      </div>
    </script>

    <!-- all singletons are here -->
    <script src="src/substance.js"></script>

    <script src="lib/underscore.js"></script>
    <script src="lib/jquery.min.js"></script>
    <script src="lib/handlebars.js"></script>
    <script src="lib/backbone.js"></script>

    <script src="lib/base64.js"></script>

    <script src="lib/client/client.js"></script>

    <script src="lib/jquery.timeago.js"></script>

    <script src="lib/util/util.js"></script>

    <script src="lib/util/html.js"></script>
    <script src="lib/util/errors.js"></script>
    <script src="lib/regexp/src/regexp.js"></script>

    <!-- Model -->

    <script src="lib/operator/src/operation.js" type="text/javascript"></script>
    <script src="lib/operator/src/compound.js" type="text/javascript"></script>
    <script src="lib/operator/src/text_operation.js" type="text/javascript"></script>
    <script src="lib/operator/src/array_operation.js" type="text/javascript"></script>
    <script src="lib/operator/src/object_operation.js" type="text/javascript"></script>
    <script src="lib/chronicle/src/chronicle.js"></script>
    <script src="lib/chronicle/src/chronicle_impl.js"></script>
    <script src="lib/chronicle/src/chronicle_index_impl.js"></script>

    <script src="lib/chronicle/src/adapter/text.js" type="text/javascript"></script>
    <script src="lib/chronicle/src/adapter/array.js" type="text/javascript"></script>

    <script src="lib/data/data.js"></script>

    <script src="lib/document/src/document.js"></script>
    <script src="lib/document/src/selection.js"></script>
    <script src="lib/document/src/writer.js"></script>

    <!-- Stores -->    
    <script src="lib/store/src/store.js"></script>
    <script src="lib/store/src/memory_store.js"></script>

    <!--<script src="lib/library/library.js"></script>-->

    <!-- Substance.Application -->
    <script src="lib/application/src/application.js"></script>
    <script src="lib/application/src/view.js"></script>
    <script src="lib/application/src/controller.js"></script>

    <!-- Substance.Surface -->
    <script src="lib/surface/surface.js"></script>
    <script src="lib/surface/nodes/text/text.js"></script>

    <!-- Application helpers -->
    <script src="src/helpers.js"></script>

    <!-- Router -->
    <script src="src/router.js"></script>


    <!-- Substance.Keymapper -->
    <script src="lib/commander/lib/mousetrap.js"></script>
    <script src="lib/commander/src/keyboard.js"></script>

    <!-- Views -->
    <script src="src/views/editor.js"></script>

    <!--
    <script src="src/views/document/collaborators.js"></script>
    <script src="src/views/document/publications.js"></script>
    !-->


    <!-- Test API -->
    <script src="lib/test/assert.js"></script>
    <script src="lib/test/src/test.js" type="text/javascript"></script>

    <!-- Test.Runner -->
    <script src="lib/test/src/controllers/test_runner.js" type="text/javascript"></script>


    <!-- Models -->
    <script src="src/models/session.js"></script>

    <!-- Controllers -->
    <script src="src/controllers/sandbox_controller.js"></script>
    <script src="src/controllers/editor_controller.js"></script>

    <!-- Views -->
    <script src="src/views/sandbox.js"></script>

    <!-- Test Views -->
    <script src="lib/test/src/views/test_action.js" type="text/javascript"></script>
    <script src="lib/test/src/views/test_report.js" type="text/javascript"></script>
    <script src="lib/test/src/views/test_center.js" type="text/javascript"></script>


    <!-- Load tests here -->
    <script src="./lib/document/tests/document_manipulation.js" type="text/javascript"></script>

    <script src="./lib/document/tests/document_test.js" type="text/javascript"></script>
    <script src="./lib/document/tests/document_editing.js" type="text/javascript"></script>

    <script src="./lib/data/tests/001-data-graph.js" type="text/javascript"></script>
    <script src="./lib/data/tests/002-versioned-graph.js" type="text/javascript"></script>
    <script src="./lib/data/tests/003-persistent-graph.js" type="text/javascript"></script>

    <script src="./lib/store/tests/store-test.js" type="text/javascript"></script>
    <script src="./lib/store/tests/001-memorystore.js" type="text/javascript"></script>

    <script src="./lib/chronicle/tests/example.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/chronicle_test.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/001-basics.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/002-diff.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/003-merge.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/004-text.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/005-array.js" type="text/javascript"></script>
    <script src="./lib/chronicle/tests/006-persistent-index.js" type="text/javascript"></script>

    <script src="./lib/surface/tests/surface_test.js" type="text/javascript"></script>
    <script src="./lib/surface/tests/basic_editing.js" type="text/javascript"></script>

    <!-- Boot -->
    <script src="src/boot.js"></script>
  </head>
  <body>

  </body>
</html>
